{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/NewProduct.js\";\nimport React, { Component } from 'react';\nimport Card, { CardActions, CardContent } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport FileUpload from 'material-ui-icons/FileUpload';\nimport auth from './../auth/auth-helper';\nimport TextField from 'material-ui/TextField';\nimport Typography from 'material-ui/Typography';\nimport Icon from 'material-ui/Icon';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport { create } from './api-product.js';\nimport { Link, Redirect } from 'react-router-dom';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle,\n    fontSize: '1.2em'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n    display: 'none'\n  },\n  filename: {\n    marginLeft: '10px'\n  }\n});\n\nclass NewProduct extends Component {\n  constructor({\n    match\n  }) {\n    super();\n\n    this.componentDidMount = () => {\n      this.productData = new FormData();\n    };\n\n    this.handleChange = name => event => {\n      const value = name === 'image' ? event.target.files[0] : event.target.value;\n      this.productData.set(name, value);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.clickSubmit = () => {\n      const jwt = auth.isAuthenticated();\n      create({\n        shopId: this.match.params.shopId\n      }, {\n        t: jwt.token\n      }, this.productData).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            error: '',\n            redirect: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      name: '',\n      description: '',\n      images: [],\n      category: '',\n      quantity: '',\n      price: '',\n      redirect: false,\n      error: ''\n    };\n    this.match = match;\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: '/seller/shop/edit/' + this.match.params.shopId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    }\n\n    const classes = this.props.classes;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"headline\",\n      component: \"h2\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"New Product\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      accept: \"image/*\",\n      onChange: this.handleChange('image'),\n      className: classes.input,\n      id: \"icon-button-file\",\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"icon-button-file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"raised\",\n      color: \"secondary\",\n      component: \"span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Upload Photo\", React.createElement(FileUpload, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))), \" \", React.createElement(\"span\", {\n      className: classes.filename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.image ? this.state.image.name : ''), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"name\",\n      label: \"Name\",\n      className: classes.textField,\n      value: this.state.name,\n      onChange: this.handleChange('name'),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"multiline-flexible\",\n      label: \"Description\",\n      multiline: true,\n      rows: \"2\",\n      value: this.state.description,\n      onChange: this.handleChange('description'),\n      className: classes.textField,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"category\",\n      label: \"Category\",\n      className: classes.textField,\n      value: this.state.category,\n      onChange: this.handleChange('category'),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"quantity\",\n      label: \"Quantity\",\n      className: classes.textField,\n      value: this.state.quantity,\n      onChange: this.handleChange('quantity'),\n      type: \"number\",\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"price\",\n      label: \"Price\",\n      className: classes.textField,\n      value: this.state.price,\n      onChange: this.handleChange('price'),\n      type: \"number\",\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), this.state.error && React.createElement(Typography, {\n      component: \"p\",\n      color: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      color: \"error\",\n      className: classes.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"error\"), this.state.error)), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"raised\",\n      onClick: this.clickSubmit,\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(Link, {\n      to: '/seller/shop/edit/' + this.match.params.shopId,\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"raised\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Cancel\")))));\n  }\n\n}\n\nNewProduct.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(NewProduct);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/NewProduct.js"],"names":["React","Component","Card","CardActions","CardContent","Button","FileUpload","auth","TextField","Typography","Icon","PropTypes","withStyles","create","Link","Redirect","styles","theme","card","maxWidth","margin","textAlign","marginTop","spacing","unit","paddingBottom","error","verticalAlign","title","color","palette","openTitle","fontSize","textField","marginLeft","marginRight","width","submit","marginBottom","input","display","filename","NewProduct","constructor","match","componentDidMount","productData","FormData","handleChange","name","event","value","target","files","set","setState","clickSubmit","jwt","isAuthenticated","shopId","params","t","token","then","data","redirect","state","description","images","category","quantity","price","render","classes","props","image","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Card, { CardActions, CardContent } from 'material-ui/Card'\nimport Button from 'material-ui/Button'\nimport FileUpload from 'material-ui-icons/FileUpload'\nimport auth from './../auth/auth-helper'\nimport TextField from 'material-ui/TextField'\nimport Typography from 'material-ui/Typography'\nimport Icon from 'material-ui/Icon'\nimport PropTypes from 'prop-types'\nimport { withStyles } from 'material-ui/styles'\nimport { create } from './api-product.js'\nimport { Link, Redirect } from 'react-router-dom'\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle,\n    fontSize: '1.2em'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n    display: 'none'\n  },\n  filename: {\n    marginLeft: '10px'\n  }\n})\n\nclass NewProduct extends Component {\n  constructor({ match }) {\n    super()\n    this.state = {\n      name: '',\n      description: '',\n      images: [],\n      category: '',\n      quantity: '',\n      price: '',\n      redirect: false,\n      error: ''\n    }\n    this.match = match\n  }\n  componentDidMount = () => {\n    this.productData = new FormData()\n  }\n  handleChange = name => event => {\n    const value = name === 'image'\n      ? event.target.files[0]\n      : event.target.value\n    this.productData.set(name, value)\n    this.setState({ [name]: value })\n  }\n\n  clickSubmit = () => {\n    const jwt = auth.isAuthenticated()\n    create({\n      shopId: this.match.params.shopId\n    }, {\n        t: jwt.token\n      }, this.productData).then((data) => {\n        if (data.error) {\n          this.setState({ error: data.error })\n        } else {\n          this.setState({ error: '', redirect: true })\n        }\n      })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return (<Redirect to={'/seller/shop/edit/' + this.match.params.shopId} />)\n    }\n    const { classes } = this.props\n    return (<div>\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n            New Product\n          </Typography><br />\n          <input accept=\"image/*\" onChange={this.handleChange('image')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\n          <label htmlFor=\"icon-button-file\">\n            <Button variant=\"raised\" color=\"secondary\" component=\"span\">\n              Upload Photo\n              <FileUpload />\n            </Button>\n          </label> <span className={classes.filename}>{this.state.image ? this.state.image.name : ''}</span><br />\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={this.state.name} onChange={this.handleChange('name')} margin=\"normal\" /><br />\n          <TextField\n            id=\"multiline-flexible\"\n            label=\"Description\"\n            multiline\n            rows=\"2\"\n            value={this.state.description}\n            onChange={this.handleChange('description')}\n            className={classes.textField}\n            margin=\"normal\"\n          /><br />\n          <TextField id=\"category\" label=\"Category\" className={classes.textField} value={this.state.category} onChange={this.handleChange('category')} margin=\"normal\" /><br />\n          <TextField id=\"quantity\" label=\"Quantity\" className={classes.textField} value={this.state.quantity} onChange={this.handleChange('quantity')} type=\"number\" margin=\"normal\" /><br />\n          <TextField id=\"price\" label=\"Price\" className={classes.textField} value={this.state.price} onChange={this.handleChange('price')} type=\"number\" margin=\"normal\" /><br />\n          {\n            this.state.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {this.state.error}</Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n          <Link to={'/seller/shop/edit/' + this.match.params.shopId} className={classes.submit}><Button variant=\"raised\">Cancel</Button></Link>\n        </CardActions>\n      </Card>\n    </div>)\n  }\n}\n\nNewProduct.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(NewProduct)"]},"metadata":{},"sourceType":"module"}