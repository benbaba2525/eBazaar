{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/MyProducts.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport Button from 'material-ui/Button';\nimport Card, { CardMedia } from 'material-ui/Card';\nimport IconButton from 'material-ui/IconButton';\nimport Edit from 'material-ui-icons/Edit';\nimport Icon from 'material-ui/Icon';\nimport List, { ListItem, ListItemSecondaryAction } from 'material-ui/List';\nimport Typography from 'material-ui/Typography';\nimport { Link } from 'react-router-dom';\nimport Divider from 'material-ui/Divider';\nimport { listByShop } from './../product/api-product.js';\nimport DeleteProduct from './../product/DeleteProduct';\n\nconst styles = theme => ({\n  products: {\n    padding: '24px'\n  },\n  addButton: {\n    float: 'right'\n  },\n  leftIcon: {\n    marginRight: \"8px\"\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1.2em'\n  },\n  subheading: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  cover: {\n    width: 110,\n    height: 100,\n    margin: '8px'\n  },\n  details: {\n    padding: '10px'\n  }\n});\n\nclass MyProducts extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: []\n    };\n\n    this.loadProducts = () => {\n      listByShop({\n        shopId: this.props.shopId\n      }).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            products: data\n          });\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.loadProducts();\n    };\n\n    this.removeProduct = product => {\n      const updatedProducts = this.state.products;\n      const index = updatedProducts.indexOf(product);\n      updatedProducts.splice(index, 1);\n      this.setState({\n        shops: updatedProducts\n      });\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Card, {\n      className: classes.products,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"title\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Products\", React.createElement(\"span\", {\n      className: classes.addButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Link, {\n      style: {\n        textDecoration: 'none'\n      },\n      to: \"/seller/\" + this.props.shopId + \"/products/new\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"raised\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: classes.leftIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"add_box\"), \"  New Product\")))), React.createElement(List, {\n      dense: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.products.map((product, i) => {\n      return React.createElement(\"span\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(CardMedia, {\n        className: classes.cover,\n        image: '/api/product/image/' + product._id + \"?\" + new Date().getTime(),\n        title: product.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.details,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        type: \"headline\",\n        component: \"h2\",\n        color: \"primary\",\n        className: classes.productTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, product.name), React.createElement(Typography, {\n        type: \"subheading\",\n        component: \"h4\",\n        className: classes.subheading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Quantity: \", product.quantity, \" | Price: $\", product.price)), React.createElement(ListItemSecondaryAction, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/seller/\" + product.shop._id + \"/\" + product._id + \"/edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-label\": \"Edit\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Edit, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }))), React.createElement(DeleteProduct, {\n        product: product,\n        shopId: this.props.shopId,\n        onRemove: this.removeProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }));\n    })));\n  }\n\n}\n\nMyProducts.propTypes = {\n  classes: PropTypes.object.isRequired,\n  shopId: PropTypes.string.isRequired\n};\nexport default withStyles(styles)(MyProducts);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/MyProducts.js"],"names":["React","Component","PropTypes","withStyles","Button","Card","CardMedia","IconButton","Edit","Icon","List","ListItem","ListItemSecondaryAction","Typography","Link","Divider","listByShop","DeleteProduct","styles","theme","products","padding","addButton","float","leftIcon","marginRight","title","margin","spacing","unit","color","palette","protectedTitle","fontSize","subheading","marginTop","openTitle","cover","width","height","details","MyProducts","state","loadProducts","shopId","props","then","data","error","setState","componentDidMount","removeProduct","product","updatedProducts","index","indexOf","splice","shops","render","classes","textDecoration","map","i","_id","Date","getTime","name","productTitle","quantity","price","shop","propTypes","object","isRequired","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from 'material-ui/styles'\nimport Button from 'material-ui/Button'\nimport Card, { CardMedia } from 'material-ui/Card'\nimport IconButton from 'material-ui/IconButton'\nimport Edit from 'material-ui-icons/Edit'\nimport Icon from 'material-ui/Icon'\nimport List, { ListItem, ListItemSecondaryAction } from 'material-ui/List'\nimport Typography from 'material-ui/Typography'\nimport { Link } from 'react-router-dom'\nimport Divider from 'material-ui/Divider'\nimport { listByShop } from './../product/api-product.js'\nimport DeleteProduct from './../product/DeleteProduct'\n\nconst styles = theme => ({\n  products: {\n    padding: '24px'\n  },\n  addButton: {\n    float: 'right'\n  },\n  leftIcon: {\n    marginRight: \"8px\"\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1.2em'\n  },\n  subheading: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  cover: {\n    width: 110,\n    height: 100,\n    margin: '8px'\n  },\n  details: {\n    padding: '10px'\n  },\n})\nclass MyProducts extends Component {\n  state = {\n    products: []\n  }\n\n  loadProducts = () => {\n    listByShop({\n      shopId: this.props.shopId\n    }).then((data) => {\n      if (data.error) {\n        this.setState({ error: data.error })\n      } else {\n        this.setState({ products: data })\n      }\n    })\n  }\n\n  componentDidMount = () => {\n    this.loadProducts()\n  }\n\n  removeProduct = (product) => {\n    const updatedProducts = this.state.products\n    const index = updatedProducts.indexOf(product)\n    updatedProducts.splice(index, 1)\n    this.setState({ shops: updatedProducts })\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <Card className={classes.products}>\n        <Typography type=\"title\" className={classes.title}>\n          Products\n          <span className={classes.addButton}>\n            <Link style={{ textDecoration: 'none' }} to={\"/seller/\" + this.props.shopId + \"/products/new\"}>\n              <Button color=\"primary\" variant=\"raised\">\n                <Icon className={classes.leftIcon}>add_box</Icon>  New Product\n              </Button>\n            </Link>\n          </span>\n        </Typography>\n        <List dense>\n          {this.state.products.map((product, i) => {\n            return <span key={i}>\n              <ListItem>\n                <CardMedia\n                  className={classes.cover}\n                  image={'/api/product/image/' + product._id + \"?\" + new Date().getTime()}\n                  title={product.name}\n                />\n                <div className={classes.details}>\n                  <Typography type=\"headline\" component=\"h2\" color=\"primary\" className={classes.productTitle}>\n                    {product.name}\n                  </Typography>\n                  <Typography type=\"subheading\" component=\"h4\" className={classes.subheading}>\n                    Quantity: {product.quantity} | Price: ${product.price}\n                  </Typography>\n                </div>\n                <ListItemSecondaryAction>\n                  <Link to={\"/seller/\" + product.shop._id + \"/\" + product._id + \"/edit\"}>\n                    <IconButton aria-label=\"Edit\" color=\"primary\">\n                      <Edit />\n                    </IconButton>\n                  </Link>\n                  <DeleteProduct\n                    product={product}\n                    shopId={this.props.shopId}\n                    onRemove={this.removeProduct} />\n                </ListItemSecondaryAction>\n              </ListItem>\n              <Divider /></span>\n          })}\n        </List>\n      </Card>)\n  }\n}\nMyProducts.propTypes = {\n  classes: PropTypes.object.isRequired,\n  shopId: PropTypes.string.isRequired\n}\n\nexport default withStyles(styles)(MyProducts)"]},"metadata":{},"sourceType":"module"}