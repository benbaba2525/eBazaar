{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/auth/Signin.js\";\nimport React, { Component } from 'react';\nimport Card, { CardActions, CardContent } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport TextField from 'material-ui/TextField';\nimport Typography from 'material-ui/Typography';\nimport Icon from 'material-ui/Icon';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport auth from './../auth/auth-helper';\nimport { Redirect } from 'react-router-dom';\nimport { signin } from './api-auth.js';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  }\n});\n\nclass Signin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      error: '',\n      redirectToReferrer: false\n    };\n\n    this.clickSubmit = () => {\n      const user = {\n        email: this.state.email || undefined,\n        password: this.state.password || undefined\n      };\n      signin(user).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          auth.authenticate(data, () => {\n            this.setState({\n              redirectToReferrer: true\n            });\n          });\n        }\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n\n    const _ref = this.props.location.state || {\n      from: {\n        pathname: '/'\n      }\n    },\n          from = _ref.from;\n\n    const redirectToReferrer = this.state.redirectToReferrer;\n\n    if (redirectToReferrer) {\n      return React.createElement(Redirect, {\n        to: from,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"headline\",\n      component: \"h2\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(TextField, {\n      id: \"email\",\n      type: \"email\",\n      label: \"Email\",\n      className: classes.textField,\n      value: this.state.email,\n      onChange: this.handleChange('email'),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"password\",\n      type: \"password\",\n      label: \"Password\",\n      className: classes.textField,\n      value: this.state.password,\n      onChange: this.handleChange('password'),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), \" \", this.state.error && React.createElement(Typography, {\n      component: \"p\",\n      color: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      color: \"error\",\n      className: classes.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"error\"), this.state.error)), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"raised\",\n      onClick: this.clickSubmit,\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nSignin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Signin);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/auth/Signin.js"],"names":["React","Component","Card","CardActions","CardContent","Button","TextField","Typography","Icon","PropTypes","withStyles","auth","Redirect","signin","styles","theme","card","maxWidth","margin","textAlign","marginTop","spacing","unit","paddingBottom","error","verticalAlign","title","color","palette","openTitle","textField","marginLeft","marginRight","width","submit","marginBottom","Signin","state","email","password","redirectToReferrer","clickSubmit","user","undefined","then","data","setState","authenticate","handleChange","name","event","target","value","render","classes","props","location","from","pathname","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Card, {CardActions, CardContent} from 'material-ui/Card'\nimport Button from 'material-ui/Button'\nimport TextField from 'material-ui/TextField'\nimport Typography from 'material-ui/Typography'\nimport Icon from 'material-ui/Icon'\nimport PropTypes from 'prop-types'\nimport {withStyles} from 'material-ui/styles'\nimport auth from './../auth/auth-helper'\nimport {Redirect} from 'react-router-dom'\nimport {signin} from './api-auth.js'\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  }\n})\n\nclass Signin extends Component {\n  state = {\n      email: '',\n      password: '',\n      error: '',\n      redirectToReferrer: false\n  }\n\n  clickSubmit = () => {\n    const user = {\n      email: this.state.email || undefined,\n      password: this.state.password || undefined\n    }\n\n    signin(user).then((data) => {\n      if (data.error) {\n        this.setState({error: data.error})\n      } else {\n        auth.authenticate(data, () => {\n          this.setState({redirectToReferrer: true})\n        })\n      }\n    })\n  }\n\n  handleChange = name => event => {\n    this.setState({[name]: event.target.value})\n  }\n\n  render() {\n    const {classes} = this.props\n    const {from} = this.props.location.state || {\n      from: {\n        pathname: '/'\n      }\n    }\n    const {redirectToReferrer} = this.state\n    if (redirectToReferrer) {\n      return (<Redirect to={from}/>)\n    }\n\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n            Sign In\n          </Typography>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={this.state.email} onChange={this.handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={this.state.password} onChange={this.handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            this.state.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {this.state.error}\n            </Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nSignin.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Signin)"]},"metadata":{},"sourceType":"module"}