{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/shop/NewShop.js\";\nimport React, { Component } from 'react';\nimport Card, { CardActions, CardContent } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport FileUpload from 'material-ui-icons/FileUpload';\nimport auth from './../auth/auth-helper';\nimport TextField from 'material-ui/TextField';\nimport Typography from 'material-ui/Typography';\nimport Icon from 'material-ui/Icon';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport { create } from './api-shop.js';\nimport { Link, Redirect } from 'react-router-dom';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n    display: 'none'\n  },\n  filename: {\n    marginLeft: '10px'\n  }\n});\n\nclass NewShop extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      description: '',\n      image: '',\n      redirect: false,\n      error: ''\n    };\n\n    this.componentDidMount = () => {\n      this.shopData = new FormData();\n    };\n\n    this.handleChange = name => event => {\n      const value = name === 'image' ? event.target.files[0] : event.target.value;\n      this.shopData.set(name, value);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.clickSubmit = () => {\n      const jwt = auth.isAuthenticated();\n      create({\n        userId: jwt.user._id\n      }, {\n        t: jwt.token\n      }, this.shopData).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            error: '',\n            redirect: true\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: '/seller/shops',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      });\n    }\n\n    const classes = this.props.classes;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"headline\",\n      component: \"h2\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"New Shop\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      accept: \"image/*\",\n      onChange: this.handleChange('image'),\n      className: classes.input,\n      id: \"icon-button-file\",\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"icon-button-file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"raised\",\n      color: \"secondary\",\n      component: \"span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Upload Logo\", React.createElement(FileUpload, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), \" \", React.createElement(\"span\", {\n      className: classes.filename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.image ? this.state.image.name : ''), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"name\",\n      label: \"Name\",\n      className: classes.textField,\n      value: this.state.name,\n      onChange: this.handleChange('name'),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"multiline-flexible\",\n      label: \"Description\",\n      multiline: true,\n      rows: \"2\",\n      value: this.state.description,\n      onChange: this.handleChange('description'),\n      className: classes.textField,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), \" \", this.state.error && React.createElement(Typography, {\n      component: \"p\",\n      color: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      color: \"error\",\n      className: classes.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"error\"), this.state.error)), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"raised\",\n      onClick: this.clickSubmit,\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(Link, {\n      style: {\n        textDecoration: 'none'\n      },\n      to: \"/seller/shops\",\n      className: classes.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"raised\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Cancel\")))));\n  }\n\n}\n\nNewShop.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(NewShop);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/shop/NewShop.js"],"names":["React","Component","Card","CardActions","CardContent","Button","FileUpload","auth","TextField","Typography","Icon","PropTypes","withStyles","create","Link","Redirect","styles","theme","card","maxWidth","margin","textAlign","marginTop","spacing","unit","paddingBottom","error","verticalAlign","title","color","palette","openTitle","fontSize","textField","marginLeft","marginRight","width","submit","marginBottom","input","display","filename","NewShop","state","name","description","image","redirect","componentDidMount","shopData","FormData","handleChange","event","value","target","files","set","setState","clickSubmit","jwt","isAuthenticated","userId","user","_id","t","token","then","data","render","classes","props","textDecoration","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Card, { CardActions, CardContent } from 'material-ui/Card'\nimport Button from 'material-ui/Button'\nimport FileUpload from 'material-ui-icons/FileUpload'\nimport auth from './../auth/auth-helper'\nimport TextField from 'material-ui/TextField'\nimport Typography from 'material-ui/Typography'\nimport Icon from 'material-ui/Icon'\nimport PropTypes from 'prop-types'\nimport { withStyles } from 'material-ui/styles'\nimport { create } from './api-shop.js'\nimport { Link, Redirect } from 'react-router-dom'\nconst styles = theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing.unit * 5,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing.unit * 2,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing.unit * 2\n  },\n  input: {\n    display: 'none'\n  },\n  filename: {\n    marginLeft: '10px'\n  }\n})\n\nclass NewShop extends Component {\n  state = {\n    name: '',\n    description: '',\n    image: '',\n    redirect: false,\n    error: ''\n  }\n  componentDidMount = () => {\n    this.shopData = new FormData()\n  }\n  handleChange = name => event => {\n    const value = name === 'image'\n      ? event.target.files[0]\n      : event.target.value\n    this.shopData.set(name, value)\n    this.setState({ [name]: value })\n  }\n  clickSubmit = () => {\n    const jwt = auth.isAuthenticated()\n    create({\n      userId: jwt.user._id\n    }, {\n        t: jwt.token\n      }, this.shopData).then((data) => {\n        if (data.error) {\n          this.setState({ error: data.error })\n        } else {\n          this.setState({ error: '', redirect: true })\n        }\n      })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return (<Redirect to={'/seller/shops'} />)\n    }\n    const { classes } = this.props\n    return (<div>\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n            New Shop\n          </Typography>\n          <br />\n          <input accept=\"image/*\" onChange={this.handleChange('image')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\n          <label htmlFor=\"icon-button-file\">\n            <Button variant=\"raised\" color=\"secondary\" component=\"span\">\n              Upload Logo\n              <FileUpload />\n            </Button>\n          </label> <span className={classes.filename}>{this.state.image ? this.state.image.name : ''}</span><br />\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={this.state.name} onChange={this.handleChange('name')} margin=\"normal\" /><br />\n          <TextField\n            id=\"multiline-flexible\"\n            label=\"Description\"\n            multiline\n            rows=\"2\"\n            value={this.state.description}\n            onChange={this.handleChange('description')}\n            className={classes.textField}\n            margin=\"normal\"\n          /><br /> {\n            this.state.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {this.state.error}</Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"raised\" onClick={this.clickSubmit} className={classes.submit}>Submit</Button>\n          <Link style={{ textDecoration: 'none' }}  to='/seller/shops' className={classes.submit}><Button variant=\"raised\">Cancel</Button></Link>\n        </CardActions>\n      </Card>\n    </div>)\n  }\n}\n\nNewShop.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(NewShop)"]},"metadata":{},"sourceType":"module"}