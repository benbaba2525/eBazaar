{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/Product.js\";\nimport React, { Component } from 'react';\nimport Card, { CardHeader, CardMedia } from 'material-ui/Card';\nimport Typography from 'material-ui/Typography';\nimport Icon from 'material-ui/Icon';\nimport Grid from 'material-ui/Grid';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport { read, listRelated } from './api-product.js';\nimport { Link } from 'react-router-dom'; //import Suggestions from './../product/Suggestions'\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30\n  },\n  flex: {\n    display: 'flex'\n  },\n  card: {\n    padding: '24px 40px 40px'\n  },\n  subheading: {\n    margin: '24px',\n    color: theme.palette.openTitle\n  },\n  price: {\n    padding: '16px',\n    margin: '16px 0px',\n    display: 'flex',\n    backgroundColor: '#93c5ae3d',\n    fontSize: '1.3em',\n    color: '#375a53'\n  },\n  media: {\n    height: 200,\n    display: 'inline-block',\n    width: '50%',\n    marginLeft: '24px'\n  },\n  icon: {\n    verticalAlign: 'sub'\n  },\n  link: {\n    color: '#3e4c54b3',\n    fontSize: '0.9em'\n  },\n  addCart: {\n    width: '35px',\n    height: '35px',\n    padding: '10px 12px',\n    borderRadius: '0.25em',\n    backgroundColor: '#5f7c8b'\n  },\n  action: {\n    margin: '8px 24px',\n    display: 'inline-block'\n  }\n});\n\nclass Product extends Component {\n  constructor({\n    match\n  }) {\n    super();\n\n    this.loadProduct = productId => {\n      read({\n        productId: productId\n      }).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            product: data\n          });\n          listRelated({\n            productId: data._id\n          }).then(data => {\n            if (data.error) {\n              console.log(data.error);\n            } else {\n              this.setState({\n                suggestions: data\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.loadProduct(this.match.params.productId);\n    };\n\n    this.componentWillReceiveProps = props => {\n      this.loadProduct(props.match.params.productId);\n    };\n\n    this.state = {\n      product: {\n        shop: {}\n      },\n      suggestions: [],\n      suggestionTitle: 'Related Products'\n    };\n    this.match = match;\n  }\n\n  render() {\n    const imageUrl = this.state.product._id ? \"/api/product/image/\".concat(this.state.product._id, \"?\").concat(new Date().getTime()) : '/api/product/defaultphoto';\n    const classes = this.props.classes;\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 40,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 7,\n      sm: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.flex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(CardMedia, {\n      className: classes.media,\n      image: imageUrl,\n      title: this.state.product.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"p\",\n      type: \"subheading\",\n      className: classes.subheading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.product.description, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: classes.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"$ \", this.state.product.price), React.createElement(Link, {\n      style: {\n        textDecoration: 'none'\n      },\n      to: '/shops/' + this.state.product.shop._id,\n      className: classes.link,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"shopping_basket\"), \" \", this.state.product.shop.name))))))));\n  }\n\n}\n\nProduct.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Product);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/product/Product.js"],"names":["React","Component","Card","CardHeader","CardMedia","Typography","Icon","Grid","PropTypes","withStyles","read","listRelated","Link","styles","theme","root","flexGrow","margin","flex","display","card","padding","subheading","color","palette","openTitle","price","backgroundColor","fontSize","media","height","width","marginLeft","icon","verticalAlign","link","addCart","borderRadius","action","Product","constructor","match","loadProduct","productId","then","data","error","setState","product","_id","console","log","suggestions","componentDidMount","params","componentWillReceiveProps","props","state","shop","suggestionTitle","render","imageUrl","Date","getTime","classes","name","description","textDecoration","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Card, { CardHeader, CardMedia } from 'material-ui/Card'\nimport Typography from 'material-ui/Typography'\nimport Icon from 'material-ui/Icon'\nimport Grid from 'material-ui/Grid'\nimport PropTypes from 'prop-types'\nimport { withStyles } from 'material-ui/styles'\nimport { read, listRelated } from './api-product.js'\nimport { Link } from 'react-router-dom'\n//import Suggestions from './../product/Suggestions'\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30,\n  },\n  flex: {\n    display: 'flex'\n  },\n  card: {\n    padding: '24px 40px 40px'\n  },\n  subheading: {\n    margin: '24px',\n    color: theme.palette.openTitle\n  },\n  price: {\n    padding: '16px',\n    margin: '16px 0px',\n    display: 'flex',\n    backgroundColor: '#93c5ae3d',\n    fontSize: '1.3em',\n    color: '#375a53',\n  },\n  media: {\n    height: 200,\n    display: 'inline-block',\n    width: '50%',\n    marginLeft: '24px'\n  },\n  icon: {\n    verticalAlign: 'sub'\n  },\n  link: {\n    color: '#3e4c54b3',\n    fontSize: '0.9em'\n  },\n  addCart: {\n    width: '35px',\n    height: '35px',\n    padding: '10px 12px',\n    borderRadius: '0.25em',\n    backgroundColor: '#5f7c8b'\n  },\n  action: {\n    margin: '8px 24px',\n    display: 'inline-block'\n  }\n})\n\nclass Product extends Component {\n  constructor({ match }) {\n    super()\n    this.state = {\n      product: { shop: {} },\n      suggestions: [],\n      suggestionTitle: 'Related Products'\n    }\n    this.match = match\n  }\n  loadProduct = (productId) => {\n    read({ productId: productId }).then((data) => {\n      if (data.error) {\n        this.setState({ error: data.error })\n      } else {\n        this.setState({ product: data })\n        listRelated({\n          productId: data._id\n        }).then((data) => {\n          if (data.error) {\n            console.log(data.error)\n          } else {\n            this.setState({ suggestions: data })\n          }\n        })\n      }\n    })\n  }\n  componentDidMount = () => {\n    this.loadProduct(this.match.params.productId)\n  }\n  componentWillReceiveProps = (props) => {\n    this.loadProduct(props.match.params.productId)\n  }\n\n  render() {\n    const imageUrl = this.state.product._id\n      ? `/api/product/image/${this.state.product._id}?${new Date().getTime()}`\n      : '/api/product/defaultphoto'\n    const { classes } = this.props\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={40}>\n          <Grid item xs={7} sm={7}>\n            <Card className={classes.card}>\n              <div className={classes.flex}>\n                <CardMedia\n                  className={classes.media}\n                  image={imageUrl}\n                  title={this.state.product.name}\n                />\n                <Typography component=\"p\" type=\"subheading\" className={classes.subheading}>\n                  {this.state.product.description}<br />\n                  <span className={classes.price}>$ {this.state.product.price}</span>\n                  <Link style={{ textDecoration: 'none' }} to={'/shops/' + this.state.product.shop._id} className={classes.link}>\n                    <span>\n                      <Icon className={classes.icon}>shopping_basket</Icon> {this.state.product.shop.name}\n                    </span>\n                  </Link>\n                </Typography>\n\n              </div>\n            </Card>\n          </Grid>\n          {/* {this.state.suggestions.length > 0 &&\n            (<Grid item xs={5} sm={5}>\n              <Suggestions products={this.state.suggestions} title='Related Products' />\n            </Grid>)} */}\n        </Grid>\n      </div>)\n  }\n}\n\nProduct.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Product)"]},"metadata":{},"sourceType":"module"}