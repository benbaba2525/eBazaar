{"ast":null,"code":"var _jsxFileName = \"/Users/ben/Desktop/Class-HW/eBazaar/client/src/shop/Shop.js\";\nimport React, { Component } from 'react';\nimport Card, { CardContent } from 'material-ui/Card';\nimport Typography from 'material-ui/Typography';\nimport Avatar from 'material-ui/Avatar';\nimport Grid from 'material-ui/Grid';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport { read } from './api-shop.js';\nimport Products from './../product/Products';\nimport { listByShop } from './../product/api-product.js';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30\n  },\n  card: {\n    textAlign: 'center',\n    paddingBottom: theme.spacing.unit * 2\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1.2em'\n  },\n  subheading: {\n    marginTop: theme.spacing.unit,\n    color: theme.palette.openTitle\n  },\n  bigAvatar: {\n    width: 100,\n    height: 100,\n    margin: 'auto'\n  },\n  productTitle: {\n    padding: \"\".concat(theme.spacing.unit * 3, \"px \").concat(theme.spacing.unit * 2.5, \"px \").concat(theme.spacing.unit, \"px \").concat(theme.spacing.unit * 2, \"px\"),\n    color: theme.palette.openTitle,\n    width: '100%',\n    fontSize: '1.2em'\n  }\n});\n\nclass Shop extends Component {\n  constructor({\n    match\n  }) {\n    super();\n\n    this.loadProducts = () => {\n      listByShop({\n        shopId: this.match.params.shopId\n      }).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            products: data\n          });\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.loadProducts();\n      read({\n        shopId: this.match.params.shopId\n      }).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          this.setState({\n            shop: data\n          });\n        }\n      });\n    };\n\n    this.state = {\n      shop: '',\n      products: []\n    };\n    this.match = match;\n  }\n\n  render() {\n    const logoUrl = this.state.shop._id ? \"/api/shops/logo/\".concat(this.state.shop._id, \"?\").concat(new Date().getTime()) : '/api/shops/defaultphoto';\n    const classes = this.props.classes;\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      sm: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"headline\",\n      component: \"h2\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.shop.name), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Avatar, {\n      src: logoUrl,\n      className: classes.bigAvatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      type: \"subheading\",\n      component: \"h2\",\n      className: classes.subheading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.shop.description), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      item: true,\n      xs: 8,\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      type: \"title\",\n      component: \"h2\",\n      className: classes.productTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Products\"), React.createElement(Products, {\n      products: this.state.products,\n      searched: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nShop.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Shop);","map":{"version":3,"sources":["/Users/ben/Desktop/Class-HW/eBazaar/client/src/shop/Shop.js"],"names":["React","Component","Card","CardContent","Typography","Avatar","Grid","PropTypes","withStyles","read","Products","listByShop","styles","theme","root","flexGrow","margin","card","textAlign","paddingBottom","spacing","unit","title","color","palette","protectedTitle","fontSize","subheading","marginTop","openTitle","bigAvatar","width","height","productTitle","padding","Shop","constructor","match","loadProducts","shopId","params","then","data","error","setState","products","componentDidMount","shop","state","render","logoUrl","_id","Date","getTime","classes","props","name","description","propTypes","object","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,IAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,IAAT,QAAqB,eAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,UAAT,QAA2B,6BAA3B;;AAEA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE,CADN;AAEJC,IAAAA,MAAM,EAAE;AAFJ,GADiB;AAKvBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,SAAS,EAAE,QADP;AAEJC,IAAAA,aAAa,EAAEN,KAAK,CAACO,OAAN,CAAcC,IAAd,GAAqB;AAFhC,GALiB;AASvBC,EAAAA,KAAK,EAAE;AACLN,IAAAA,MAAM,EAAEH,KAAK,CAACO,OAAN,CAAcC,IAAd,GAAqB,CADxB;AAELE,IAAAA,KAAK,EAAEV,KAAK,CAACW,OAAN,CAAcC,cAFhB;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GATgB;AAcvBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,SAAS,EAAEf,KAAK,CAACO,OAAN,CAAcC,IADf;AAEVE,IAAAA,KAAK,EAAEV,KAAK,CAACW,OAAN,CAAcK;AAFX,GAdW;AAkBvBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,KAAK,EAAE,GADE;AAETC,IAAAA,MAAM,EAAE,GAFC;AAGThB,IAAAA,MAAM,EAAE;AAHC,GAlBY;AAuBvBiB,EAAAA,YAAY,EAAE;AACZC,IAAAA,OAAO,YAAKrB,KAAK,CAACO,OAAN,CAAcC,IAAd,GAAqB,CAA1B,gBAAiCR,KAAK,CAACO,OAAN,CAAcC,IAAd,GAAqB,GAAtD,gBAA+DR,KAAK,CAACO,OAAN,CAAcC,IAA7E,gBAAuFR,KAAK,CAACO,OAAN,CAAcC,IAAd,GAAqB,CAA5G,OADK;AAEZE,IAAAA,KAAK,EAAEV,KAAK,CAACW,OAAN,CAAcK,SAFT;AAGZE,IAAAA,KAAK,EAAE,MAHK;AAIZL,IAAAA,QAAQ,EAAE;AAJE;AAvBS,CAAL,CAApB;;AA+BA,MAAMS,IAAN,SAAmBlC,SAAnB,CAA6B;AAC3BmC,EAAAA,WAAW,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAY;AACrB;;AADqB,SASvBC,YATuB,GASR,MAAM;AACnB3B,MAAAA,UAAU,CAAC;AACT4B,QAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWG,MAAX,CAAkBD;AADjB,OAAD,CAAV,CAEGE,IAFH,CAESC,IAAD,IAAU;AAChB,YAAIA,IAAI,CAACC,KAAT,EAAgB;AACd,eAAKC,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAED,IAAI,CAACC;AAAd,WAAd;AACD,SAFD,MAEO;AACL,eAAKC,QAAL,CAAc;AAAEC,YAAAA,QAAQ,EAAEH;AAAZ,WAAd;AACD;AACF,OARD;AASD,KAnBsB;;AAAA,SAqBvBI,iBArBuB,GAqBH,MAAM;AACxB,WAAKR,YAAL;AACA7B,MAAAA,IAAI,CAAC;AACH8B,QAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWG,MAAX,CAAkBD;AADvB,OAAD,CAAJ,CAEGE,IAFH,CAESC,IAAD,IAAU;AAChB,YAAIA,IAAI,CAACC,KAAT,EAAgB;AACd,eAAKC,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAED,IAAI,CAACC;AAAd,WAAd;AACD,SAFD,MAEO;AACL,eAAKC,QAAL,CAAc;AAAEG,YAAAA,IAAI,EAAEL;AAAR,WAAd;AACD;AACF,OARD;AASD,KAhCsB;;AAErB,SAAKM,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,EADK;AAEXF,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAIA,SAAKR,KAAL,GAAaA,KAAb;AACD;;AA2BDY,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAG,KAAKF,KAAL,CAAWD,IAAX,CAAgBI,GAAhB,6BACO,KAAKH,KAAL,CAAWD,IAAX,CAAgBI,GADvB,cAC8B,IAAIC,IAAJ,GAAWC,OAAX,EAD9B,IAEZ,yBAFJ;AADO,UAICC,OAJD,GAIa,KAAKC,KAJlB,CAICD,OAJD;AAKP,WAAQ;AAAK,MAAA,SAAS,EAAEA,OAAO,CAACxC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACN,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAkB,MAAA,EAAE,EAAE,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEwC,OAAO,CAACrC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,UAAjB;AAA4B,MAAA,SAAS,EAAC,IAAtC;AAA2C,MAAA,SAAS,EAAEqC,OAAO,CAAChC,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK0B,KAAL,CAAWD,IAAX,CAAgBS,IADnB,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEN,OAAb;AAAsB,MAAA,SAAS,EAAEI,OAAO,CAACxB,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAKwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALxD,EAME,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,YAAjB;AAA8B,MAAA,SAAS,EAAC,IAAxC;AAA6C,MAAA,SAAS,EAAEwB,OAAO,CAAC3B,UAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKqB,KAAL,CAAWD,IAAX,CAAgBU,WADnB,CANF,EAQe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARf,CADF,CADF,CADF,EAeE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAkB,MAAA,EAAE,EAAE,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,OAAjB;AAAyB,MAAA,SAAS,EAAC,IAAnC;AAAwC,MAAA,SAAS,EAAEH,OAAO,CAACrB,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAKe,KAAL,CAAWH,QAA/B;AAAyC,MAAA,QAAQ,EAAE,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CAfF,CADM,CAAR;AAwBD;;AAhE0B;;AAmE7BV,IAAI,CAACuB,SAAL,GAAiB;AACfJ,EAAAA,OAAO,EAAE/C,SAAS,CAACoD,MAAV,CAAiBC;AADX,CAAjB;AAIA,eAAepD,UAAU,CAACI,MAAD,CAAV,CAAmBuB,IAAnB,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport Card, { CardContent } from 'material-ui/Card'\nimport Typography from 'material-ui/Typography'\nimport Avatar from 'material-ui/Avatar'\nimport Grid from 'material-ui/Grid'\nimport PropTypes from 'prop-types'\nimport { withStyles } from 'material-ui/styles'\nimport { read } from './api-shop.js'\nimport Products from './../product/Products'\nimport { listByShop } from './../product/api-product.js'\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30,\n  },\n  card: {\n    textAlign: 'center',\n    paddingBottom: theme.spacing.unit * 2\n  },\n  title: {\n    margin: theme.spacing.unit * 2,\n    color: theme.palette.protectedTitle,\n    fontSize: '1.2em'\n  },\n  subheading: {\n    marginTop: theme.spacing.unit,\n    color: theme.palette.openTitle\n  },\n  bigAvatar: {\n    width: 100,\n    height: 100,\n    margin: 'auto'\n  },\n  productTitle: {\n    padding: `${theme.spacing.unit * 3}px ${theme.spacing.unit * 2.5}px ${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n    color: theme.palette.openTitle,\n    width: '100%',\n    fontSize: '1.2em'\n  }\n})\n\nclass Shop extends Component {\n  constructor({ match }) {\n    super()\n    this.state = {\n      shop: '',\n      products: []\n    }\n    this.match = match\n  }\n\n  loadProducts = () => {\n    listByShop({\n      shopId: this.match.params.shopId\n    }).then((data) => {\n      if (data.error) {\n        this.setState({ error: data.error })\n      } else {\n        this.setState({ products: data })\n      }\n    })\n  }\n\n  componentDidMount = () => {\n    this.loadProducts()\n    read({\n      shopId: this.match.params.shopId\n    }).then((data) => {\n      if (data.error) {\n        this.setState({ error: data.error })\n      } else {\n        this.setState({ shop: data })\n      }\n    })\n  }\n\n  render() {\n    const logoUrl = this.state.shop._id\n      ? `/api/shops/logo/${this.state.shop._id}?${new Date().getTime()}`\n      : '/api/shops/defaultphoto'\n    const { classes } = this.props\n    return (<div className={classes.root}>\n      <Grid container spacing={24}>\n        <Grid item xs={4} sm={4}>\n          <Card className={classes.card}>\n            <CardContent>\n              <Typography type=\"headline\" component=\"h2\" className={classes.title}>\n                {this.state.shop.name}\n              </Typography>\n              <br />\n              <Avatar src={logoUrl} className={classes.bigAvatar} /><br />\n              <Typography type=\"subheading\" component=\"h2\" className={classes.subheading}>\n                {this.state.shop.description}\n              </Typography><br />\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={8} sm={8}>\n          <Card>\n            <Typography type=\"title\" component=\"h2\" className={classes.productTitle}>Products</Typography>\n            <Products products={this.state.products} searched={false} />\n          </Card>\n        </Grid>\n      </Grid>\n    </div>)\n  }\n}\n\nShop.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles)(Shop)"]},"metadata":{},"sourceType":"module"}