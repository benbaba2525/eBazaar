(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a.p+"static/media/img1.90c73ae9.jpg"},203:function(e,t,a){e.exports=a.p+"static/media/img2.6181f6ce.jpg"},204:function(e,t,a){e.exports=a.p+"static/media/img3.4a0b65c9.png"},205:function(e,t,a){e.exports=a.p+"static/media/img4.4222960e.jpg"},214:function(e,t,a){e.exports=a(465)},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),o=a.n(i),c=a(10),l=a(5),s=a(12),m=a(11),u=a(13),p=a(62),h=a(17),d=a(39),g=a.n(d),f=a(196),E=a.n(f),b=function(e,t,a){return fetch("/api/products/by/"+e.shopId,{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},y=function(e){return fetch("/api/products/"+e.productId,{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},v=function(e,t,a){return fetch("/api/product/"+e.shopId+"/"+e.productId,{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:a}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},x=function(e,t){return fetch("/api/product/"+e.shopId+"/"+e.productId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},C=function(e){return fetch("/api/products/by/"+e.shopId,{method:"GET"}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},S=function(){return fetch("/api/products/latest",{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},j=function(){return fetch("/api/products/categories",{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},w=function(e){var t=E.a.stringify(e);return fetch("/api/products?"+t,{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},O=a(36),N=a(14),A=a.n(N),k=a(42),T=a.n(k),I=a(135),D=a.n(I),F=a(18),B=a.n(F),z=a(9),L=a.n(z),P=a(200),_=a.n(P),R=a(6),q=a.n(R),M=a(69),G=a.n(M),W=a(16),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},this.props.products.length>0?r.a.createElement("div",{className:e.container},r.a.createElement(G.a,{cellHeight:250,className:e.gridList,cols:3},this.props.products.map(function(t,a){return r.a.createElement(M.GridListTile,{key:a,className:e.tile},r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/product/"+t._id},r.a.createElement("img",{className:e.image,src:"/api/product/image/"+t._id,alt:t.name})),r.a.createElement(M.GridListTileBar,{className:e.tileBar,title:r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/product/"+t._id,className:e.tileTitle},t.name),subtitle:r.a.createElement("span",null,"$ ",t.price)}))}))):this.props.searched&&r.a.createElement(q.a,{type:"subheading",component:"h1",className:e.title},"No products found! :("))}}]),t}(n.Component),J=Object(h.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",background:e.palette.background.paper,textAlign:"left",padding:"0 8px"},container:{minWidth:"100%",paddingBottom:"14px"},gridList:{width:"100%",minHeight:450,padding:"36px 30px 30px"},title:{padding:"".concat(3*e.spacing.unit,"px ").concat(2.5*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),color:"red",textAlign:"center",fontSize:"20px",width:"100%"},tile:{textAlign:"center"},image:{height:"100%",width:"100%",padding:"30px",margin:"25px"},tileBar:{backgroundColor:"rgba(0, 0, 0, 0.72)",textAlign:"left"},tileTitle:{fontSize:"1.1em",marginBottom:"5px",color:"rgb(189, 222, 219)",display:"block"}}})(U),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={category:"",search:"",results:[],searched:!1},a.handleChange=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.search=function(){a.state.search&&w({search:a.state.search||void 0,category:a.state.category}).then(function(e){e.error?console.log(e.error):a.setState({results:e,searched:!0})})},a.enterKey=function(e){13===e.keyCode&&(e.preventDefault(),a.search())},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:e.card},r.a.createElement(B.a,{id:"select-category",select:!0,label:"Select category",className:e.textField,value:this.state.category,onChange:this.handleChange("category"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal"},r.a.createElement(D.a,{value:"All"},"All"),this.props.categories.map(function(e){return r.a.createElement(D.a,{key:e,value:e},e)})),r.a.createElement(B.a,{id:"search",label:"Search products",type:"search",onKeyDown:this.enterKey,onChange:this.handleChange("search"),className:e.searchField,margin:"normal"}),r.a.createElement(L.a,{variant:"raised",color:"primary",className:e.searchButton,onClick:this.search},r.a.createElement(_.a,null)),r.a.createElement(T.a,null),r.a.createElement(J,{products:this.state.results,searched:this.state.searched})))}}]),t}(n.Component),K=Object(h.withStyles)(function(e){return{card:{margin:"auto",textAlign:"center",paddingTop:10,backgroundColor:"#e1f5fe"},menu:{width:200},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:130,verticalAlign:"bottom",marginBottom:"20px"},searchField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400,marginBottom:"20px"},searchButton:{minWidth:"25px",height:"30px",padding:"0 8px"}}})(H),Q=a(28),$=a.n(Q),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],selected:""},a.componentWillReceiveProps=function(e){a.setState({selected:e.categories[0]}),w({category:e.categories[0]}).then(function(e){e.error?console.log(e.error):a.setState({products:e})})},a.listbyCategory=function(e){return function(t){a.setState({selected:e}),w({category:e}).then(function(e){e.error?console.log(e.error):a.setState({products:e})})}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:t.card},r.a.createElement(q.a,{type:"title",className:t.title},"Explore by category"),r.a.createElement("div",{className:t.root},r.a.createElement(G.a,{className:t.gridList,cols:4},this.props.categories.map(function(a,n){return r.a.createElement(M.GridListTile,{key:n,className:t.tileTitle,style:{height:"50px",backgroundColor:e.state.selected===a?"#9e9e9e":"#cfcfcf"}},r.a.createElement("span",{className:t.link,onClick:e.listbyCategory(a)},a,"  ",r.a.createElement($.a,{className:t.icon},e.state.selected===a&&"arrow_drop_down")))}))),r.a.createElement(T.a,null),r.a.createElement(J,{products:this.state.products,searched:!1})))}}]),t}(n.Component),Z=Object(h.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},gridList:{flexWrap:"nowrap",width:"100%",transform:"translateZ(0)",backgroundColor:"#eceff1"},tileTitle:{verticalAlign:"middle",lineHeight:2.5,textAlign:"center",fontSize:"1.5em",margin:"0 4px 0 0"},card:{margin:"auto",marginTop:20},title:{padding:"".concat(3*e.spacing.unit,"px ").concat(2.5*e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),color:"black",fontFamily:"Luckiest Guy",fontSize:"1.6em",backgroundColor:"#eceff1",textAlign:"center"},icon:{verticalAlign:"sub",color:"#080807"},link:{color:"black",textShadow:"0px 2px 12px #ffffff",cursor:"pointer"}}})(Y),V=a(201),X=a.n(V),ee=a(202),te=a.n(ee),ae=a(203),ne=a.n(ae),re=a(204),ie=a.n(re),oe=a(205),ce=a.n(oe),le=(a(430),a(431),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={suggestions:[],categories:[]},a.componentDidMount=function(){S().then(function(e){e.error?console.log(e.error):a.setState({suggestions:e})}),j().then(function(e){e.error?console.log(e.error):a.setState({categories:e})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(X.a,{dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:1e3,autoplaySpeed:4e3,cssEase:"linear"},r.a.createElement("div",null,r.a.createElement("img",{className:e.img,src:te.a,alt:"slide show"})),r.a.createElement("div",null,r.a.createElement("img",{className:e.img,src:ne.a,alt:"slide show"})),r.a.createElement("div",null,r.a.createElement("img",{className:e.img,src:ie.a,alt:"slide show"})),r.a.createElement("div",null,r.a.createElement("img",{className:e.img,src:ce.a,alt:"slide show"}))),r.a.createElement(g.a,{container:!0,spacing:24},r.a.createElement(g.a,{item:!0,xs:12,sm:12},r.a.createElement(K,{categories:this.state.categories}),r.a.createElement(Z,{categories:this.state.categories}))))}}]),t}(n.Component)),se=Object(h.withStyles)(function(e){return{root:{flexGrow:1,margin:30},img:{height:"400px",width:"100%"}}})(le),me=a(46),ue=a.n(me),pe=a(19),he=a.n(pe),de=a(47),ge=a.n(de),fe=a(33),Ee=a.n(fe),be=a(206),ye=a.n(be),ve=a(103),xe=a.n(ve),Ce=function(e){return fetch("/api/users/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},Se=function(e,t){return fetch("/api/users/"+e.userId,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},je=function(e,t,a){return fetch("/api/users/"+e.userId,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},we=function(e,t){return fetch("/api/users/"+e.userId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/",{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)}).then(function(t){t.error?console.log(t.error):e.setState({users:t})})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(ue.a,{className:e.root,elevation:4},r.a.createElement(q.a,{type:"title",className:e.title},"All Users"),r.a.createElement(he.a,{dense:!0},this.state.users.map(function(e,t){return r.a.createElement(W.b,{to:"/user/"+e._id,key:t},r.a.createElement(pe.ListItem,{button:!0},r.a.createElement(pe.ListItemAvatar,null,r.a.createElement(ge.a,null,r.a.createElement(xe.a,null))),r.a.createElement(pe.ListItemText,{primary:e.name}),r.a.createElement(pe.ListItemSecondaryAction,null,r.a.createElement(Ee.a,null,r.a.createElement(ye.a,null)))))})))}}]),t}(n.Component),Ne=Object(h.withStyles)(function(e){return{root:e.mixins.gutters({padding:e.spacing.unit,margin:5*e.spacing.unit}),title:{margin:"".concat(4*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.openTitle,fontSize:"30px"}}})(Oe),Ae=a(27),ke=a.n(Ae),Te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",password:"",email:"",open:!1,error:""},a.handleChange=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.clickSubmit=function(){var e={name:a.state.name||void 0,email:a.state.email||void 0,password:a.state.password||void 0};Ce(e).then(function(e){e.error?a.setState({error:e.error}):a.setState({error:"",open:!0})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:e.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:e.title},"Sign Up"),r.a.createElement(B.a,{id:"name",label:"Name",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"email",type:"email",label:"Email",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"password",type:"password",label:"Password",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),r.a.createElement("br",null)," ",this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:e.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit"))),r.a.createElement(ke.a,{open:this.state.open,disableBackdropClick:!0},r.a.createElement(Ae.DialogTitle,null,"New Account"),r.a.createElement(Ae.DialogContent,null,r.a.createElement(Ae.DialogContentText,null,"New account successfully created.")),r.a.createElement(Ae.DialogActions,null,r.a.createElement(W.b,{to:"/signin"},r.a.createElement(L.a,{color:"primary",autoFocus:"autoFocus",variant:"raised"},"Sign In")))))}}]),t}(n.Component),Ie=Object(h.withStyles)(function(e){return{card:{maxWidth:490,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle,fontSize:"30px"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}})(Te),De=function(e){return fetch("/auth/signin/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},Fe={isAuthenticated:function(){return"undefined"!=typeof window&&(!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")))},authenticate:function(e,t){"undefined"!==typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},signout:function(e){"undefined"!==typeof window&&sessionStorage.removeItem("jwt"),e(),fetch("/auth/signout/",{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)}).then(function(e){document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"})},updateUser:function(e,t){if("undefined"!==typeof window&&sessionStorage.getItem("jwt")){var a=JSON.parse(sessionStorage.getItem("jwt"));a.user=e,sessionStorage.setItem("jwt",JSON.stringify(a)),t()}}},Be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",redirectToReferrer:!1},a.clickSubmit=function(){var e={email:a.state.email||void 0,password:a.state.password||void 0};De(e).then(function(e){e.error?a.setState({error:e.error}):Fe.authenticate(e,function(){a.setState({redirectToReferrer:!0})})})},a.handleChange=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.redirectToReferrer?r.a.createElement(p.a,{to:t}):r.a.createElement(A.a,{className:e.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:e.title},"Sign In"),r.a.createElement(B.a,{id:"email",type:"email",label:"Email",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"password",type:"password",label:"Password",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),r.a.createElement("br",null)," ",this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:e.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit")))}}]),t}(n.Component),ze=Object(h.withStyles)(function(e){return{card:{maxWidth:490,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle,fontSize:"30px"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}})(Be),Le=a(132),Pe=a(207),_e=a.n(Pe),Re=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){var e=Fe.isAuthenticated();Se({userId:a.match.params.userId},{t:e.token}).then(function(e){e.error?a.setState({error:e.error}):a.setState({name:e.name,email:e.email,seller:e.seller})})},a.handleCheck=function(e,t){a.setState({seller:t})},a.clickSubmit=function(){var e=Fe.isAuthenticated(),t={name:a.state.name||void 0,email:a.state.email||void 0,password:a.state.password||void 0,seller:a.state.seller};je({userId:a.match.params.userId},{t:e.token},t).then(function(e){e.error?a.setState({error:e.error}):Fe.updateUser(e,function(){a.setState({userId:e._id,redirectToProfile:!0})})})},a.handleChange=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.state={name:"",email:"",password:"",seller:!1,redirectToProfile:!1,error:""},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToProfile?r.a.createElement(p.a,{to:"/user/"+this.state.userId}):r.a.createElement(A.a,{className:e.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:e.title},"Edit Profile"),r.a.createElement(B.a,{id:"name",label:"Name",component:"h3",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"email",type:"email",label:"Email",component:"h3",className:e.textField,value:this.state.email,onChange:this.handleChange("email"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"password",type:"password",label:"Password",component:"h3",className:e.textField,value:this.state.password,onChange:this.handleChange("password"),margin:"normal"}),r.a.createElement(q.a,{type:"subheading",component:"h3",className:e.subheading},"Seller Account"),r.a.createElement(Le.FormControlLabel,{control:r.a.createElement(_e.a,{classes:{checked:e.checked,bar:e.bar},checked:this.state.seller,onChange:this.handleCheck}),label:this.state.seller?"Active":"Inactive"}),r.a.createElement("br",null)," ",this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:e.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit")))}}]),t}(n.Component),qe=Object(h.withStyles)(function(e){return{card:{maxWidth:490,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle,fontSize:"30px"},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit}}})(Re),Me=a(73),Ge=a.n(Me),We=a(72),Ue=a.n(We),Je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1,open:!1},a.clickButton=function(){a.setState({open:!0})},a.deleteAccount=function(){var e=Fe.isAuthenticated();we({userId:a.props.userId},{t:e.token}).then(function(e){e.error?console.log(e.error):(Fe.signout(function(){return console.log("deleted")}),a.setState({redirect:!0}))})},a.handleRequestClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(p.a,{to:"/"}):r.a.createElement("span",null,r.a.createElement(Ee.a,{"aria-label":"Delete",onClick:this.clickButton,color:"secondary"},r.a.createElement(Ue.a,null)),r.a.createElement(ke.a,{open:this.state.open,onClose:this.handleRequestClose},r.a.createElement(Ae.DialogTitle,null,"Delete Account"),r.a.createElement(Ae.DialogContent,null,r.a.createElement(Ae.DialogContentText,null,"Confirm to delete your account.")),r.a.createElement(Ae.DialogActions,null,r.a.createElement(L.a,{onClick:this.handleRequestClose,color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:this.deleteAccount,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}}]),t}(n.Component),He=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).init=function(e){var t=Fe.isAuthenticated();Se({userId:e},{t:t.token}).then(function(e){e.error?a.setState({redirectToSignin:!0}):a.setState({user:e})})},a.componentWillReceiveProps=function(e){a.init(e.match.params.userId)},a.componentDidMount=function(){a.init(a.match.params.userId)},a.state={user:"",redirectToSignin:!1},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.redirectToSignin?r.a.createElement(p.a,{to:"/signin"}):r.a.createElement(ue.a,{className:e.root,elevation:4},r.a.createElement(q.a,{type:"title",className:e.title},"Profile"),r.a.createElement(he.a,{dense:!0},r.a.createElement(pe.ListItem,null,r.a.createElement(pe.ListItemAvatar,null,r.a.createElement(ge.a,null,r.a.createElement(xe.a,null))),r.a.createElement(pe.ListItemText,{style:{fontSize:"20px"},primary:this.state.user.name,secondary:this.state.user.email})," ",Fe.isAuthenticated().user&&Fe.isAuthenticated().user._id===this.state.user._id&&r.a.createElement(pe.ListItemSecondaryAction,null,r.a.createElement(W.b,{to:"/user/edit/"+this.state.user._id},r.a.createElement(Ee.a,{"aria-label":"Edit",color:"primary"},r.a.createElement(Ge.a,null))),r.a.createElement(Je,{userId:this.state.user._id}))),r.a.createElement(T.a,null),r.a.createElement(pe.ListItem,null,r.a.createElement(pe.ListItemText,{style:{fontSize:"15px"},primary:"Joined: "+new Date(this.state.user.created).toDateString()}))))}}]),t}(n.Component),Ke=Object(h.withStyles)(function(e){return{root:e.mixins.gutters({maxWidth:490,margin:"auto",padding:3*e.spacing.unit,marginTop:5*e.spacing.unit}),title:{margin:"".concat(3*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.protectedTitle,fontSize:"30px"}}})(He),Qe=a(208),$e=function(e){var t=e.component,a=Object(Qe.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return Fe.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Ye=a(209),Ze=a.n(Ye),Ve=a(210),Xe=a.n(Ve),et=a(211),tt=a.n(et),at={fontSize:"3.8rem",fontFamily:"Lobster",fontStyle:"oblique",color:"white",margin:"auto"},nt=function(e,t){return e.location.pathname===t?{color:"#fff",fontSize:"1.2rem"}:{color:"#ffffff",fontSize:"1.2rem"}},rt=function(e,t){return e.location.pathname.includes(t)?{color:"#fff",fontSize:"1.2rem"}:{color:"#ffffff",fontSize:"1.2rem"}},it=Object(p.g)(function(e){var t=e.history;return r.a.createElement(Ze.a,{position:"sticky"},r.a.createElement(Xe.a,null,r.a.createElement("div",null,r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/"},r.a.createElement(Ee.a,{"aria-label":"Home",style:nt(t,"/")},r.a.createElement(tt.a,{style:{fontSize:40},color:"white"}))),r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/shops/all"},r.a.createElement(L.a,{style:nt(t,"/shops/all")},"All Shops"))),r.a.createElement(q.a,{style:at,type:"title",variant:"h1",component:"h1"},"eBazaar"),r.a.createElement("div",{style:{right:"10px"}},r.a.createElement("span",{style:{float:"right"}},!Fe.isAuthenticated()&&r.a.createElement("span",null,r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/signup"},r.a.createElement(L.a,{style:nt(t,"/signup")},"Sign up")),r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/signin"},r.a.createElement(L.a,{style:nt(t,"/signin")},"Sign In"))),Fe.isAuthenticated()&&r.a.createElement("span",null,Fe.isAuthenticated().user.seller&&r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/seller/shops"},r.a.createElement(L.a,{style:rt(t,"/seller/")},"My Shops")),r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/user/"+Fe.isAuthenticated().user._id},r.a.createElement(L.a,{style:nt(t,"/user/"+Fe.isAuthenticated().user._id)},"My Profile")),r.a.createElement(L.a,{style:{fontSize:"1.2rem"},color:"inherit",onClick:function(){Fe.signout(function(){return t.push("/")})}},"Sign out"))))))}),ot=a(60),ct=a.n(ot),lt=function(e,t,a){return fetch("/api/shops/by/"+e.userId,{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},st=function(){return fetch("/api/shops",{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},mt=function(e,t){return fetch("/api/shops/by/"+e.userId,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+t.t}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},ut=function(e,t){return fetch("/api/shop/"+e.shopId,{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},pt=function(e,t,a){return fetch("/api/shops/"+e.shopId,{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer "+t.t},body:a}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},ht=function(e,t){return fetch("/api/shops/"+e.shopId,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t.t}}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},dt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",image:"",redirect:!1,error:""},a.componentDidMount=function(){a.shopData=new FormData},a.handleChange=function(e){return function(t){var n="image"===e?t.target.files[0]:t.target.value;a.shopData.set(e,n),a.setState(Object(O.a)({},e,n))}},a.clickSubmit=function(){var e=Fe.isAuthenticated();lt({userId:e.user._id},{t:e.token},a.shopData).then(function(e){e.error?a.setState({error:e.error}):a.setState({error:"",redirect:!0})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(p.a,{to:"/seller/shops"});var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:e.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:e.title},"New Shop"),r.a.createElement("br",null),r.a.createElement("input",{accept:"image/*",onChange:this.handleChange("image"),className:e.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(L.a,{variant:"raised",color:"secondary",component:"span"},"Upload Logo",r.a.createElement(ct.a,null)))," ",r.a.createElement("span",{className:e.filename},this.state.image?this.state.image.name:""),r.a.createElement("br",null),r.a.createElement(B.a,{id:"name",label:"Name",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Description",multiline:!0,rows:"2",value:this.state.description,onChange:this.handleChange("description"),className:e.textField,margin:"normal"}),r.a.createElement("br",null)," ",this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:e.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit"),r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/seller/shops",className:e.submit},r.a.createElement(L.a,{variant:"raised"},"Cancel")))))}}]),t}(n.Component),gt=Object(h.withStyles)(function(e){return{card:{maxWidth:490,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle,fontSize:"30px"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit},input:{display:"none"},filename:{marginLeft:"10px"}}})(dt),ft=a(482),Et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={shops:[]},a.loadShops=function(){st().then(function(e){e.error?console.log(e.error):a.setState({shops:e})})},a.componentDidMount=function(){a.loadShops()},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(ue.a,{className:e.root,elevation:4},r.a.createElement(q.a,{type:"title",className:e.title},"All Shops"),r.a.createElement(he.a,{dense:!0},this.state.shops.map(function(t,a){return r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/shops/"+t._id,key:a},r.a.createElement(T.a,null),r.a.createElement(pe.ListItem,{button:!0},r.a.createElement(ft.a,{className:e.image},r.a.createElement("img",{className:e.img,alt:"complex",src:"/api/shops/logo/"+t._id+"?"+(new Date).getTime()})),r.a.createElement("div",{className:e.details},r.a.createElement(q.a,{type:"headline",component:"h2",color:"primary",className:e.shopTitle},t.name),r.a.createElement(q.a,{type:"subheading",component:"h4",className:e.subheading},t.description))),r.a.createElement(T.a,null))}))))}}]),t}(n.Component),bt=Object(h.withStyles)(function(e){return{root:e.mixins.gutters({maxWidth:600,margin:"auto",padding:3*e.spacing.unit,marginTop:5*e.spacing.unit,marginBottom:3*e.spacing.unit}),title:{margin:"".concat(3*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px"),color:e.palette.protectedTitle,textAlign:"center",fontSize:"30px"},img:{width:160,height:160,padding:"10px"},subheading:{color:e.palette.text.secondary},shopTitle:{fontSize:"20px",marginBottom:"5px"},details:{padding:"24px"}}})(Et),yt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.clickButton=function(){a.setState({open:!0})},a.deleteShop=function(){var e=Fe.isAuthenticated();ht({shopId:a.props.shop._id},{t:e.token}).then(function(e){e.error?console.log(e.error):a.setState({open:!1},function(){a.props.onRemove(a.props.shop)})})},a.handleRequestClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement(Ee.a,{"aria-label":"Delete",onClick:this.clickButton,color:"secondary"},r.a.createElement(Ue.a,null)),r.a.createElement(ke.a,{open:this.state.open,onClose:this.handleRequestClose},r.a.createElement(Ae.DialogTitle,null,"Delete "+this.props.shop.name),r.a.createElement(Ae.DialogContent,null,r.a.createElement(Ae.DialogContentText,null,"Confirm to delete your shop ",this.props.shop.name,".")),r.a.createElement(Ae.DialogActions,null,r.a.createElement(L.a,{onClick:this.handleRequestClose,color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:this.deleteShop,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}}]),t}(n.Component),vt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={shops:[],redirectToSignin:!1},a.loadShops=function(){var e=Fe.isAuthenticated();mt({userId:e.user._id},{t:e.token}).then(function(e){e.error?a.setState({redirectToSignin:!0}):a.setState({shops:e})})},a.removeShop=function(e){var t=a.state.shops,n=t.indexOf(e);t.splice(n,1),a.setState({shops:t})},a.componentDidMount=function(){a.loadShops()},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;this.state.id&&"/api/shops/logo/".concat(this.state.id,"?").concat((new Date).getTime());return this.state.redirectToSignin?r.a.createElement(p.a,{to:"/signin"}):r.a.createElement("div",null,r.a.createElement(ue.a,{className:t.root,elevation:4},r.a.createElement(q.a,{type:"title",className:t.title},"Your Shops",r.a.createElement("span",{className:t.addButton},r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/seller/shop/new"},r.a.createElement(L.a,{color:"primary",variant:"raised"},r.a.createElement($.a,{className:t.leftIcon},"add_box"),"  New Shop")))),r.a.createElement(he.a,{dense:!0},this.state.shops.map(function(t,a){return r.a.createElement("span",{key:a},r.a.createElement(pe.ListItem,{button:!0},r.a.createElement(pe.ListItemAvatar,null,r.a.createElement(ge.a,{style:{width:"60px",height:"60px"},src:"/api/shops/logo/"+t._id+"?"+(new Date).getTime()})),r.a.createElement(pe.ListItemText,{style:{fontSize:"20px"},primary:t.name,secondary:t.description}),Fe.isAuthenticated().user&&Fe.isAuthenticated().user._id===t.owner._id&&r.a.createElement(pe.ListItemSecondaryAction,null,r.a.createElement(W.b,{to:"/seller/shop/edit/"+t._id},r.a.createElement(Ee.a,{"aria-label":"Edit",color:"primary"},r.a.createElement(Ge.a,null))),r.a.createElement(yt,{shop:t,onRemove:e.removeShop}))),r.a.createElement(T.a,null))}))))}}]),t}(n.Component),xt=Object(h.withStyles)(function(e){return{root:e.mixins.gutters({maxWidth:490,margin:"auto",padding:3*e.spacing.unit,marginTop:5*e.spacing.unit}),title:{margin:"".concat(3*e.spacing.unit,"px 0 ").concat(3*e.spacing.unit,"px ").concat(e.spacing.unit,"px"),color:e.palette.protectedTitle,fontSize:"30px"},addButton:{float:"right"},leftIcon:{marginRight:"8px"}}})(vt),Ct=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).loadProducts=function(){C({shopId:a.match.params.shopId}).then(function(e){e.error?a.setState({error:e.error}):a.setState({products:e})})},a.componentDidMount=function(){a.loadProducts(),ut({shopId:a.match.params.shopId}).then(function(e){e.error?a.setState({error:e.error}):a.setState({shop:e})})},a.state={shop:"",products:[]},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.shop._id?"/api/shops/logo/".concat(this.state.shop._id,"?").concat((new Date).getTime()):"/api/shops/defaultphoto",t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,{container:!0,spacing:24},r.a.createElement(g.a,{item:!0,lg:4,md:4,xs:12,sm:12},r.a.createElement(A.a,{className:t.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:t.title},this.state.shop.name),r.a.createElement("br",null),r.a.createElement(ge.a,{src:e,className:t.bigAvatar}),r.a.createElement("br",null),r.a.createElement(q.a,{type:"subheading",component:"h2",className:t.subheading},this.state.shop.description),r.a.createElement("br",null)))),r.a.createElement(g.a,{item:!0,lg:8,md:8,sm:12,xs:12},r.a.createElement(A.a,null,r.a.createElement(q.a,{type:"title",component:"h2",className:t.productTitle},"Products"),r.a.createElement(J,{products:this.state.products,searched:!1})))))}}]),t}(n.Component),St=Object(h.withStyles)(function(e){return{root:{flexGrow:1,margin:30},card:{textAlign:"center",paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle,fontSize:"30px"},subheading:{marginTop:e.spacing.unit,color:e.palette.openTitle},bigAvatar:{width:100,height:100,margin:"auto"},productTitle:{padding:"".concat(3*e.spacing.unit,"px ").concat(2.5*e.spacing.unit,"px ").concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),color:e.palette.openTitle,width:"100%",fontSize:"1.2em"}}})(Ct),jt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.clickButton=function(){a.setState({open:!0})},a.deleteProduct=function(){var e=Fe.isAuthenticated();x({shopId:a.props.shopId,productId:a.props.product._id},{t:e.token}).then(function(e){e.error?console.log(e.error):a.setState({open:!1},function(){a.props.onRemove(a.props.product)})})},a.handleRequestClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement(Ee.a,{"aria-label":"Delete",onClick:this.clickButton,color:"secondary"},r.a.createElement(Ue.a,null)),r.a.createElement(ke.a,{open:this.state.open,onClose:this.handleRequestClose},r.a.createElement(Ae.DialogTitle,null,"Delete "+this.props.product.name),r.a.createElement(Ae.DialogContent,null,r.a.createElement(Ae.DialogContentText,null,"Confirm to delete your product ",this.props.product.name,".")),r.a.createElement(Ae.DialogActions,null,r.a.createElement(L.a,{onClick:this.handleRequestClose,color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:this.deleteProduct,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))}}]),t}(n.Component),wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={products:[]},a.loadProducts=function(){C({shopId:a.props.shopId}).then(function(e){e.error?a.setState({error:e.error}):a.setState({products:e})})},a.componentDidMount=function(){a.loadProducts()},a.removeProduct=function(e){var t=a.state.products,n=t.indexOf(e);t.splice(n,1),a.setState({shops:t})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(A.a,{className:t.products},r.a.createElement(q.a,{type:"title",className:t.title},"Products",r.a.createElement("span",{className:t.addButton},r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/seller/"+this.props.shopId+"/products/new"},r.a.createElement(L.a,{color:"primary",variant:"raised"},r.a.createElement($.a,{className:t.leftIcon},"add_box"),"  New Product")))),r.a.createElement(he.a,{dense:!0},this.state.products.map(function(a,n){return r.a.createElement("span",{key:n},r.a.createElement(pe.ListItem,null,r.a.createElement(N.CardMedia,{className:t.cover,image:"/api/product/image/"+a._id+"?"+(new Date).getTime(),title:a.name}),r.a.createElement("div",{className:t.details},r.a.createElement(q.a,{type:"headline",component:"h2",color:"primary",className:t.productTitle},a.name),r.a.createElement(q.a,{type:"subheading",component:"h4",className:t.subheading},"Quantity: ",a.quantity," | Price: $",a.price)),r.a.createElement(pe.ListItemSecondaryAction,null,r.a.createElement(W.b,{to:"/seller/"+a.shop._id+"/"+a._id+"/edit"},r.a.createElement(Ee.a,{"aria-label":"Edit",color:"primary"},r.a.createElement(Ge.a,null))),r.a.createElement(jt,{product:a,shopId:e.props.shopId,onRemove:e.removeProduct}))),r.a.createElement(T.a,null))})))}}]),t}(n.Component),Ot=Object(h.withStyles)(function(e){return{products:{padding:"24px"},addButton:{float:"right"},leftIcon:{marginRight:"8px"},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle,fontSize:"1.2em"},subheading:{marginTop:2*e.spacing.unit,color:e.palette.openTitle},cover:{width:110,height:100,margin:"8px"},details:{padding:"10px"}}})(wt),Nt=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){a.shopData=new FormData;var e=Fe.isAuthenticated();ut({shopId:a.match.params.shopId},{t:e.token}).then(function(e){e.error?a.setState({error:e.error}):a.setState({id:e._id,name:e.name,description:e.description,owner:e.owner.name})})},a.clickSubmit=function(){var e=Fe.isAuthenticated();pt({shopId:a.match.params.shopId},{t:e.token},a.shopData).then(function(e){e.error?a.setState({error:e.error}):a.setState({redirect:!0})})},a.handleChange=function(e){return function(t){var n="image"===e?t.target.files[0]:t.target.value;a.shopData.set(e,n),a.setState(Object(O.a)({},e,n))}},a.state={name:"",description:"",image:"",redirect:!1,error:""},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.id?"/api/shops/logo/".concat(this.state.id,"?").concat((new Date).getTime()):"/api/shops/defaultphoto";if(this.state.redirect)return r.a.createElement(p.a,{to:"/seller/shops"});var t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,{container:!0,spacing:24},r.a.createElement(g.a,{item:!0,xs:6,sm:6},r.a.createElement(A.a,{className:t.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:t.title},"Edit Shop"),r.a.createElement("br",null),r.a.createElement(ge.a,{src:e,className:t.bigAvatar}),r.a.createElement("br",null),r.a.createElement("input",{accept:"image/*",onChange:this.handleChange("image"),className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(L.a,{variant:"raised",color:"default",component:"span"},"Change Logo",r.a.createElement(ct.a,null)))," ",r.a.createElement("span",{className:t.filename},this.state.image?this.state.image.name:""),r.a.createElement("br",null),r.a.createElement(B.a,{id:"name",label:"Name",className:t.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Description",multiline:!0,rows:"3",value:this.state.description,onChange:this.handleChange("description"),className:t.textField,margin:"normal"}),r.a.createElement("br",null),r.a.createElement(q.a,{type:"subheading",component:"h4",className:t.subheading},"Owner: ",this.state.owner),r.a.createElement("br",null),this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:t.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:t.submit},"Update")))),r.a.createElement(g.a,{item:!0,xs:6,sm:6},r.a.createElement(Ot,{shopId:this.match.params.shopId}))))}}]),t}(n.Component),At=Object(h.withStyles)(function(e){return{root:{flexGrow:1,margin:30},card:{textAlign:"center",paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle,fontSize:"30px"},subheading:{marginTop:2*e.spacing.unit,color:e.palette.openTitle},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},submit:{margin:"auto",marginBottom:2*e.spacing.unit},bigAvatar:{width:60,height:60,margin:"auto"},input:{display:"none"},filename:{marginLeft:"10px"}}})(Nt),kt=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){a.productData=new FormData},a.handleChange=function(e){return function(t){var n="image"===e?t.target.files[0]:t.target.value;a.productData.set(e,n),a.setState(Object(O.a)({},e,n))}},a.clickSubmit=function(){var e=Fe.isAuthenticated();b({shopId:a.match.params.shopId},{t:e.token},a.productData).then(function(e){e.error?a.setState({error:e.error}):a.setState({error:"",redirect:!0})})},a.state={name:"",description:"",images:[],category:"",quantity:"",price:"",contact:"",redirect:!1,error:""},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(p.a,{to:"/seller/shop/edit/"+this.match.params.shopId});var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:e.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:e.title},"New Product"),r.a.createElement("br",null),r.a.createElement("input",{accept:"image/*",onChange:this.handleChange("image"),className:e.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(L.a,{variant:"raised",color:"secondary",component:"span"},"Upload Photo",r.a.createElement(ct.a,null)))," ",r.a.createElement("span",{className:e.filename},this.state.image?this.state.image.name:""),r.a.createElement("br",null),r.a.createElement(B.a,{id:"name",label:"Name",className:e.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Description",multiline:!0,rows:"2",value:this.state.description,onChange:this.handleChange("description"),className:e.textField,margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"category",label:"Category",className:e.textField,value:this.state.category,onChange:this.handleChange("category"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"quantity",label:"Quantity",className:e.textField,value:this.state.quantity,onChange:this.handleChange("quantity"),type:"number",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"price",label:"Price",className:e.textField,value:this.state.price,onChange:this.handleChange("price"),type:"number",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Contact Information",multiline:!0,rows:"2",value:this.state.contact,onChange:this.handleChange("contact"),className:e.textField,margin:"normal"}),r.a.createElement("br",null),this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:e.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:e.submit},"Submit"),r.a.createElement(W.b,{to:"/seller/shop/edit/"+this.match.params.shopId,className:e.submit},r.a.createElement(L.a,{variant:"raised"},"Cancel")))))}}]),t}(n.Component),Tt=Object(h.withStyles)(function(e){return{card:{maxWidth:490,margin:"auto",textAlign:"center",marginTop:5*e.spacing.unit,paddingBottom:2*e.spacing.unit},error:{verticalAlign:"middle"},title:{marginTop:2*e.spacing.unit,color:e.palette.openTitle,fontSize:"1.2em"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:300},submit:{margin:"auto",marginBottom:2*e.spacing.unit},input:{display:"none"},filename:{marginLeft:"10px"}}})(kt),It=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){a.productData=new FormData,y({productId:a.match.params.productId}).then(function(e){e.error?a.setState({error:e.error}):a.setState({id:e._id,name:e.name,description:e.description,category:e.category,quantity:e.quantity,price:e.price,contact:e.contact})})},a.clickSubmit=function(){var e=Fe.isAuthenticated();v({shopId:a.match.params.shopId,productId:a.match.params.productId},{t:e.token},a.productData).then(function(e){e.error?a.setState({error:e.error}):a.setState({redirect:!0})})},a.handleChange=function(e){return function(t){var n="image"===e?t.target.files[0]:t.target.value;a.productData.set(e,n),a.setState(Object(O.a)({},e,n))}},a.state={name:"",description:"",image:"",category:"",quantity:"",price:"",contact:"",redirect:!1,error:""},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.id?"/api/product/image/".concat(this.state.id,"?").concat((new Date).getTime()):"/api/product/defaultphoto";if(this.state.redirect)return r.a.createElement(p.a,{to:"/seller/shop/edit/"+this.match.params.shopId});var t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(A.a,{className:t.card},r.a.createElement(N.CardContent,null,r.a.createElement(q.a,{type:"headline",component:"h2",className:t.title},"Edit Product"),r.a.createElement("br",null),r.a.createElement(ge.a,{src:e,className:t.bigAvatar}),r.a.createElement("br",null),r.a.createElement("input",{accept:"image/*",onChange:this.handleChange("image"),className:t.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(L.a,{variant:"raised",color:"secondary",component:"span"},"Change Image",r.a.createElement(ct.a,null)))," ",r.a.createElement("span",{className:t.filename},this.state.image?this.state.image.name:""),r.a.createElement("br",null),r.a.createElement(B.a,{id:"name",label:"Name",className:t.textField,value:this.state.name,onChange:this.handleChange("name"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Description",multiline:!0,rows:"3",value:this.state.description,onChange:this.handleChange("description"),className:t.textField,margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"category",label:"Category",className:t.textField,value:this.state.category,onChange:this.handleChange("category"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"quantity",label:"Quantity",className:t.textField,value:this.state.quantity,onChange:this.handleChange("quantity"),type:"number",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"price",label:"Price",className:t.textField,value:this.state.price,onChange:this.handleChange("price"),type:"number",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"multiline-flexible",label:"Contact Information",multiline:!0,rows:"3",value:this.state.contact,onChange:this.handleChange("contact"),className:t.textField,margin:"normal"}),r.a.createElement("br",null),this.state.error&&r.a.createElement(q.a,{component:"p",color:"error"},r.a.createElement($.a,{color:"error",className:t.error},"error"),this.state.error)),r.a.createElement(N.CardActions,null,r.a.createElement(L.a,{color:"primary",variant:"raised",onClick:this.clickSubmit,className:t.submit},"Update"),r.a.createElement(W.b,{to:"/seller/shops/edit/"+this.match.params.shopId,className:t.submit},r.a.createElement(L.a,{variant:"raised"},"Cancel")))))}}]),t}(n.Component),Dt=Object(h.withStyles)(function(e){return{card:{margin:"auto",textAlign:"center",marginTop:3*e.spacing.unit,marginBottom:2*e.spacing.unit,maxWidth:500,paddingBottom:2*e.spacing.unit},title:{margin:2*e.spacing.unit,color:e.palette.protectedTitle,fontSize:"1.2em"},error:{verticalAlign:"middle"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},submit:{margin:"auto",marginBottom:2*e.spacing.unit},bigAvatar:{width:60,height:60,margin:"auto"},input:{display:"none"},filename:{marginLeft:"10px"}}})(It),Ft=a(480),Bt=function(e){function t(e){var a,n=e.match;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this))).loadProduct=function(e){y({productId:e}).then(function(e){e.error?a.setState({error:e.error}):a.setState({product:e})})},a.componentDidMount=function(){a.loadProduct(a.match.params.productId)},a.componentWillReceiveProps=function(e){a.loadProduct(e.match.params.productId)},a.state={product:{shop:{}}},a.match=n,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.product._id?"/api/product/image/".concat(this.state.product._id,"?").concat((new Date).getTime()):"/api/product/defaultphoto",t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,{container:!0,spacing:40},r.a.createElement(g.a,{item:!0,lg:7,md:7,xs:12,sm:12},r.a.createElement(A.a,{className:t.card},r.a.createElement(Ft.a,null,r.a.createElement(q.a,{gutterBottom:!0,variant:"h5",component:"h2"},this.state.product.name)),r.a.createElement("div",null,r.a.createElement("img",{className:t.img,src:e,alt:"slide show"})))),r.a.createElement(g.a,{item:!0,lg:5,md:5,xs:12,sm:12},r.a.createElement(A.a,{className:t.cardDetails},r.a.createElement(q.a,{component:"p",type:"subheading",className:t.subheading},this.state.product.description,r.a.createElement("hr",null),r.a.createElement("span",{className:t.price},"$ ",this.state.product.price),r.a.createElement("hr",null),r.a.createElement(W.b,{style:{textDecoration:"none"},to:"/shops/"+this.state.product.shop._id,className:t.link},r.a.createElement("span",null,r.a.createElement($.a,{className:t.icon},"shopping_basket"),r.a.createElement(q.a,{style:{fontSize:"20px"}}," Seller Shop  ")," ",this.state.product.shop.name)),r.a.createElement("hr",null),r.a.createElement($.a,{className:t.icon},"contacts")," ",r.a.createElement(q.a,{style:{fontSize:"20px",padding:"10px"}}," Contact Me "),this.state.product.contact,r.a.createElement("br",null))))))}}]),t}(n.Component),zt=Object(h.withStyles)(function(e){return{root:{flexGrow:1,margin:30},flex:{display:"flex"},card:{height:500,padding:"24px 40px 40px",textAlign:"center"},cardDetails:{height:"100%",padding:"24px 40px 40px",textAlign:"center"},subheading:{margin:"auto",fontSize:"20px",color:"black"},price:{padding:"16px",margin:"16px 0px",display:"flex",backgroundColor:"#93c5ae3d",fontSize:"20px",color:"#375a53"},img:{height:450,display:"inline-block",width:"100%",margin:"auto",paddingBottom:"100px"},icon:{verticalAlign:"sub",margin:"20px",color:"#34515e"},link:{color:"#3e4c54b3",fontSize:"20px",margin:"10px"},action:{margin:"8px 24px",display:"inline-block"}}})(Bt),Lt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(it,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:se}),r.a.createElement(p.b,{path:"/users",component:Ne}),r.a.createElement(p.b,{path:"/signup",component:Ie}),r.a.createElement(p.b,{path:"/signin",component:ze}),r.a.createElement($e,{path:"/user/edit/:userId",component:qe}),r.a.createElement(p.b,{path:"/user/:userId",component:Ke}),r.a.createElement(p.b,{path:"/product/:productId",component:zt}),r.a.createElement(p.b,{path:"/shops/all",component:bt}),r.a.createElement(p.b,{path:"/shops/:shopId",component:St}),r.a.createElement($e,{path:"/seller/shops",component:xt}),r.a.createElement($e,{path:"/seller/shop/new",component:gt}),r.a.createElement($e,{path:"/seller/shop/edit/:shopId",component:At}),r.a.createElement($e,{path:"/seller/:shopId/products/new",component:Tt}),r.a.createElement($e,{path:"/seller/:shopId/:productId/edit",component:Dt})))}}]),t}(n.Component),Pt=a(136),_t=a(481),Rt=Object(h.createMuiTheme)({palette:{primary:{light:"#4f83cc",main:"#01579b",dark:"#002f6c",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"},openTitle:Pt.blue[400],protectedTitle:Pt.lightBlue[400],type:"light"}}),qt=function(){return r.a.createElement(W.a,null,r.a.createElement(_t.a,null),r.a.createElement(h.MuiThemeProvider,{theme:Rt},r.a.createElement(Lt,null)))};o.a.render(r.a.createElement(qt,null),document.getElementById("root"))}},[[214,1,2]]]);
//# sourceMappingURL=main.1c330e18.chunk.js.map